<!doctype html>
<html lang="es">
    <head>
        <title>IA</title>
        <meta charset="utf-8">
        <style>
            textarea{
                width:400px;
                height:400px;
            }
        </style>
    </head>
    <body>
        <textarea id="texto"></textarea>
        <p>Propuesta:</p>
        <p id="resultado"></p>
        <script>
            document.getElementById("texto").onkeyup = function(){
                console.log("has pulsado una tecla")
                var texto = this.value
                console.log(texto)
                var partido = texto.split(" ")
                console.log(partido)
                var ultima = partido[partido.length-1]
                console.log("La ultima palabra es "+ultima)
                // Una vez que he cogido la ultima palabra, la envÃ­o al servidor
                fetch('comprueba.php', {
                    method: 'POST',
                    body: 'palabra='+ultima, 
                    headers: {
                        'Content-type': 'application/x-www-form-urlencoded' 
                    }
                })
                .then(res => res.text())
                .then(res => dime(res))
                
            }
            function dime(texto){
                console.log(texto)
            }
        </script>
    </body>
</html>